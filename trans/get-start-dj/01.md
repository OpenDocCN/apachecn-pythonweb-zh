# 第 1 章 Django 在网络上的地位

近年来，Web 开发有了很大的发展，特别是随着 Web 框架的出现。我们将学习如何使用 Django 框架创建一个完整的网站。

在本章中，我们将讨论以下内容：

*   网络的变化
*   Django 的介绍
*   MVC 开发模式

# 从 Web 1.0 到 Web 2.0

你今天看到的网络并不总是像今天看起来的那样。事实上，许多技术，如 CSS、AJAX 或新的 HTML5 版本已经改善了 Web。

## Web 1.0

由于不断发展的新技术，互联网诞生于 25 年前。其中两项非常具有决定性：

*   HTML 语言是一种显示语言。它允许您使用嵌套标记组织信息。
*   HTTP 协议是一种允许客户端和服务器通信的通信网络协议。客户端通常是 Firefox 或 Google Chrome 等浏览器，而服务器通常是 Nginx、Apache 或 Microsoft IIS 等 web 服务器。

一开始，开发人员使用`<table>`标记来组织页面的各种元素，如菜单、标题或内容。网页上显示的图像分辨率较低，以避免使网页沉重的风险。用户可以执行的唯一操作是单击超文本链接导航到其他页面。

这些超文本链接使用户能够通过只发送一种类型的数据（页面的 URL）从一个页面导航到另一个页面。**统一资源定位器**（**URL**定义了一个唯一的链接来获取资源，如 HTML 页面、图片或 PDF 文件。用户未发送URL 以外的任何数据。

## Web 2.0

术语Web2.0 由 O'Reilly 媒体公司 Dale Dougherty 创造，并于 2004 年 10 月由 Tim O'Reilly 在第一次 Web2.0 会议期间进行调解。

这个新的网站变得交互式，初学者可以访问。它是许多技术的礼物，包括：

*   服务器端语言，如 PHP、**Java 服务器页面**（**JSP**）或 ASP。这些语言允许您与数据库通信以交付动态内容。这还允许用户以 HTML 格式发送数据，以便使用 web 服务器处理数据。
*   数据库存储了大量的信息。此信息可用于对用户进行身份验证或显示从较旧条目到较新条目的项目列表。
*   客户端脚本（如 JavaScript）允许用户在不刷新页面的情况下执行简单任务。**异步 JavaScript 和 XML**（**AJAX**为当前 Web 带来了一个重要特性：客户端和服务器之间的异步交换。由于这一点，没有必要刷新网页，以享受网站。

今天，Web2.0 无处不在，它是我们日常生活的一部分。Facebook 是 Web2.0 网站的一个完美例子，它在用户之间进行完全交互，并在其数据库中存储大量信息。Web 应用程序已经作为 WebMail 或 Google Web 应用程序普及。

Django 就是在这种哲学中出现的。

# 什么是 Django？

Django于 2003 年出生于堪萨斯州劳伦斯市的一家新闻社。它是一个使用 Python 创建网站的 web 框架。它的目标是编写非常快速的动态网站。2005 年，该机构决定在 BSD 许可证中发布 Django 源代码。在 2008，Django 软件基金会被创建来支持和推进 Django。该框架的 1.00 版在几个月后发布。

![What is Django?](img/00002.jpeg)

### 注

**Django 的口号**

有期限的完美主义者的网络框架。

Django 的口号是明确的。创建此框架是为了加速站点的开发阶段，但并非完全如此。事实上，这个框架使用了 MVC 模式，这使我们能够拥有一个连贯的体系结构，我们将在下一章中看到。

直到 2013 年，Django 才与 Python 2.x 版兼容，但 2013 年 2 月 26 日发布的 Django 1.5 标志着 Python 3 兼容性的开始。

如今，Instagram 移动网站、Mozilla.org 和 Openstack.org 等大型组织都在使用 Django。

## Django–一个 web 框架

框架是一组组织应用程序架构并使开发人员的工作更容易的软件。一个框架可以适应不同的用途。它还提供了实用的工具，使程序员的工作更快。因此，网站上经常使用的一些功能可以实现自动化，例如数据库管理和用户管理。

一旦程序员处理了一个框架，它将极大地提高他们的生产率和代码质量。

# MVC 框架

在MVC 框架出现之前，web 编程混合了数据库访问代码和页面主代码。这将向用户返回一个 HTML 页面。即使我们将 CSS 和 JavaScript 文件存储在外部文件中，服务器端语言代码也存储在一个文件中，该文件至少在三种语言之间共享：Python、SQL 和 HTML。

MVC 模式的创建是为了将逻辑与表示分离，并具有更具体和真实的内部体系结构。**模型视图控制器**（**MVC**代表范例推荐的三个应用层：

*   **模型**：表示数据库中的数据组织。简单地说，我们可以说每个模型在数据库中定义了一个表以及其他模型之间的关系。多亏了他们，数据库中存储了每一位数据。
*   **视图**：这些视图包含将发送给客户端的所有信息。它们生成最终 HTML 文档将生成的视图。我们可以将 HTML 代码与视图相关联。
*   **控制器**：包含服务器执行的所有动作，客户端不可见。控制器检查用户是否经过身份验证，或者是否可以从模板生成 HTML 代码。

![The MVC framework](img/00003.jpeg)

以下是使用 MVC 模式的应用程序中遵循的步骤：

1.  客户端向服务器发送请求，请求显示页面。
2.  控制器通过模型使用数据库。它可以创建、读取、更新或删除任何记录，或对检索到的数据应用任何逻辑。
3.  模型从数据库发送数据；例如，如果我们有在线商店，它会发送一个产品列表。
4.  控制器将数据注入视图以生成它。
5.  视图根据控制器提供的数据返回其内容。
6.  控制器将 HTML 内容返回给客户端。

MVC 模式使我们能够为每个项目的工作人员提供一致性。在一个有网页设计师和开发人员的网站代理中，网页设计师是视图的负责人。鉴于视图只包含 HTML 代码，web 设计师不会被开发人员的代码打扰。开发人员编辑他们的模型和控制器。

Django 尤其使用 MVT 模式。在此模式中，视图由模板替换，控制器由视图替换。在本书的其余部分中，我们将使用 MVT 模式。因此，我们的 HTML 代码将是模板，Python 代码将是视图和模型。

# 为什么使用 Django？

以下是使用 Django 的优点的非详尽列表：

*   Django 是根据 BSD 许可证发布的，该许可证确保可以自由使用和修改 web 应用程序，而不会出现任何问题；它也是免费的。
*   Django 是完全可定制的。开发人员可以通过创建模块或重写的框架方法轻松地适应它。
*   这种模块化增加了其他优势。有很多 Django 模块可以集成到 Django 中。您可以在其他人的工作中获得一些帮助，因为您经常会找到您可能需要的高质量模块。
*   在这个框架中使用 Python 可以让您从所有 Python 库中获益，并确保非常好的可读性。
*   Django 是一个以完美为主要目标的框架。它是专门为那些需要清晰的代码和良好的应用程序架构的人设计的。它完全尊重**不要重复自己**（**干式**）的理念，这意味着保持代码简单，而不必在多个地方复制/粘贴相同的部分。
*   在质量方面，Django 集成了许多有效的方法来执行单元测试。
*   Django 得到了良好社区的支持。这是一项非常重要的资产，因为它允许您快速解决问题和修复 bug。感谢社区，我们还可以找到展示最佳实践的代码示例。

Django 也有一些缺点。当开发人员开始使用框架时，他/她从学习阶段开始。此阶段的持续时间取决于框架和开发人员。如果开发人员了解 Python 和面向对象编程，那么 Django 的学习阶段相对较短。

此外，还可能发布框架的新版本，修改某些语法。例如，Django 的 1.5 版更改了模板中 URL 的语法。（详情请访问[https://docs.djangoproject.com/en/1.5/ref/templates/builtins/#url](https://docs.djangoproject.com/en/1.5/ref/templates/builtins/#url) 。尽管如此，文档提供了 Django 每次更新的详细信息。

# 总结

在本章中，我们研究了使 Web 发展成为 Web2.0 的变化。我们还研究了将逻辑与表示分离的 MVC 操作。本章最后介绍了 Django 框架。

在下一章中，我们将使用 Python、PIP 和 Django 设置开发环境。